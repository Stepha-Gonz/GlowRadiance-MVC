{"version":3,"sources":["app.js"],"names":["paso","pasoInicial","pasoFinal","cita","id","nombre","fecha","hora","servicios","iniciarApp","mostrarSeccion","tabs","botonesPaginador","paginaSiguiente","paginaAnterior","consultarAPI","idCliente","nombreCliente","seleccionarFecha","seleccionarHora","mostrarResumen","seccionAnterior","document","querySelector","classList","remove","pasoSelector","add","tabAnterior","querySelectorAll","forEach","boton","addEventListener","e","parseInt","target","dataset","async","url","resultado","fetch","mostrarServicios","json","error","console","log","servicio","precio","nombreServicio","createElement","textContent","precioServicio","formatearPrecio","servicioDIV","idServicio","onclick","seleccionarServicio","appendChild","partes","toString","split","parteEntera","replace","length","divServicio","some","agregado","filter","value","fechaSeleccionada","Date","fechaActual","dia","getUTCDay","includes","mostrarAlerta","mensaje","tipo","elemento","desaparece","alertaPrevia","alerta","setTimeout","resumen","firstChild","removeChild","Object","values","innerHTML","fechaObj","mes","getMonth","getDate","year","getFullYear","fechaFormateada","UTC","toLocaleDateString","weekday","month","day","horaFormateada","toLocaleString","hour","minute","hour12","fechaCita","horaCita","headingServicios","contenedorServicio","textoServicio","precioFormateado","headingCita","botonReservar","reservarCita","idServicios","map","datos","FormData","append","respuesta","method","body","Swal","fire","icon","title","text","confirmButtonText","then","window","location","reload"],"mappings":"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","file":"app.js","sourcesContent":["let paso = 1;\r\nconst pasoInicial = 1;\r\nconst pasoFinal = 3;\r\n\r\nconst cita = {\r\n  id: \"\",\r\n  nombre: \"\",\r\n  fecha: \"\",\r\n  hora: \"\",\r\n  servicios: [],\r\n};\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n  iniciarApp();\r\n});\r\n\r\nfunction iniciarApp() {\r\n  mostrarSeccion();\r\n  tabs(); //cambia la seccion al presionar los tabs\r\n  botonesPaginador();\r\n  paginaSiguiente();\r\n  paginaAnterior();\r\n\r\n  consultarAPI();\r\n  idCliente();\r\n  nombreCliente();\r\n\r\n  seleccionarFecha();\r\n  seleccionarHora();\r\n  mostrarResumen();\r\n}\r\n\r\nfunction mostrarSeccion() {\r\n  const seccionAnterior = document.querySelector(\".mostrar\");\r\n  if (seccionAnterior) {\r\n    seccionAnterior.classList.remove(\"mostrar\");\r\n  }\r\n\r\n  const pasoSelector = `#paso-${paso}`;\r\n  const seccion = document.querySelector(pasoSelector);\r\n  seccion.classList.add(\"mostrar\");\r\n\r\n  //tab actual\r\n  const tabAnterior = document.querySelector(\".actual\");\r\n  if (tabAnterior) {\r\n    tabAnterior.classList.remove(\"actual\");\r\n  }\r\n  const tab = document.querySelector(`[data-paso=\"${paso}\"]`);\r\n  tab.classList.add(\"actual\");\r\n}\r\n\r\nfunction tabs() {\r\n  const botones = document.querySelectorAll(\".tabs button\");\r\n\r\n  botones.forEach((boton) => {\r\n    boton.addEventListener(\"click\", function (e) {\r\n      paso = parseInt(e.target.dataset.paso);\r\n\r\n      mostrarSeccion();\r\n      botonesPaginador();\r\n      if (paso === 3) {\r\n        mostrarResumen();\r\n      }\r\n    });\r\n  });\r\n}\r\n\r\nfunction botonesPaginador() {\r\n  const paginaAnterior = document.querySelector(\"#anterior\");\r\n  const paginaSiguiente = document.querySelector(\"#siguiente\");\r\n\r\n  if (paso === 1) {\r\n    paginaAnterior.classList.add(\"ocultar\");\r\n    paginaSiguiente.classList.remove(\"ocultar\");\r\n  } else if (paso === 3) {\r\n    paginaAnterior.classList.remove(\"ocultar\");\r\n    paginaSiguiente.classList.add(\"ocultar\");\r\n  } else {\r\n    paginaAnterior.classList.remove(\"ocultar\");\r\n    paginaSiguiente.classList.remove(\"ocultar\");\r\n  }\r\n  mostrarSeccion();\r\n}\r\n\r\nfunction paginaAnterior() {\r\n  const paginaAnterior = document.querySelector(\"#anterior\");\r\n  paginaAnterior.addEventListener(\"click\", function () {\r\n    if (paso <= pasoInicial) return;\r\n    paso--;\r\n\r\n    botonesPaginador();\r\n  });\r\n}\r\nfunction paginaSiguiente() {\r\n  const paginaSiguiente = document.querySelector(\"#siguiente\");\r\n  paginaSiguiente.addEventListener(\"click\", function () {\r\n    if (pasoFinal <= paso) return;\r\n    paso++;\r\n\r\n    botonesPaginador();\r\n    if (paso == pasoFinal) {\r\n      mostrarResumen();\r\n    }\r\n  });\r\n}\r\n\r\nasync function consultarAPI() {\r\n  try {\r\n    const url = \"/api/servicios\";\r\n    const resultado = await fetch(url);\r\n    const servicios = await resultado.json();\r\n    mostrarServicios(servicios);\r\n\r\n    //mostrarServicios();\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}\r\n\r\nfunction mostrarServicios(servicios) {\r\n  servicios.forEach((servicio) => {\r\n    const { id, nombre, precio } = servicio;\r\n    const nombreServicio = document.createElement(\"P\");\r\n    nombreServicio.classList.add(\"nombre-servicio\");\r\n    nombreServicio.textContent = nombre;\r\n\r\n    const precioServicio = document.createElement(\"P\");\r\n    precioServicio.classList.add(\"precio-servicio\");\r\n    precioServicio.textContent = `${formatearPrecio(precio)} COP`;\r\n\r\n    const servicioDIV = document.createElement(\"DIV\");\r\n    servicioDIV.classList.add(\"servicio\");\r\n    servicioDIV.dataset.idServicio = id;\r\n    servicioDIV.onclick = function () {\r\n      seleccionarServicio(servicio);\r\n    };\r\n\r\n    servicioDIV.appendChild(nombreServicio);\r\n    servicioDIV.appendChild(precioServicio);\r\n\r\n    document.querySelector(\"#servicios\").appendChild(servicioDIV);\r\n  });\r\n}\r\n\r\nfunction formatearPrecio(precio) {\r\n  // Convertir el precio a una cadena de texto\r\n  const precioStr = precio.toString();\r\n\r\n  // Separar la parte entera y la parte decimal\r\n  const partes = precioStr.split(\".\");\r\n\r\n  // Formatear la parte entera con puntos para separar los miles\r\n  const parteEntera = partes[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\r\n\r\n  // Si hay parte decimal, agregarla después del punto decimal\r\n  if (partes.length > 1) {\r\n    const parteDecimal = partes[1];\r\n    return `${parteEntera}.${parteDecimal}`;\r\n  }\r\n\r\n  // Si no hay parte decimal, devolver solo la parte entera formateada\r\n  return parteEntera;\r\n}\r\n\r\nfunction seleccionarServicio(servicio) {\r\n  const { id } = servicio;\r\n  const { servicios } = cita;\r\n  const divServicio = document.querySelector(`[data-id-servicio=\"${id}\"]`);\r\n  if (servicios.some((agregado) => agregado.id === id)) {\r\n    cita.servicios = servicios.filter((agregado) => agregado.id !== id);\r\n    divServicio.classList.remove(\"seleccionado\");\r\n  } else {\r\n    cita.servicios = [...servicios, servicio];\r\n    divServicio.classList.add(\"seleccionado\");\r\n  }\r\n}\r\n\r\nfunction nombreCliente() {\r\n  cita.nombre = document.querySelector(\"#nombre\").value;\r\n}\r\n\r\nfunction idCliente() {\r\n  cita.id = document.querySelector(\"#id\").value;\r\n}\r\n\r\nfunction seleccionarFecha() {\r\n  const inputfecha = document.querySelector(\"#fecha\");\r\n  inputfecha.addEventListener(\"input\", function (e) {\r\n    const fechaSeleccionada = new Date(e.target.value);\r\n    const fechaActual = new Date();\r\n    const dia = fechaSeleccionada.getUTCDay();\r\n\r\n    if ([6, 0].includes(dia)) {\r\n      e.target.value = \"\";\r\n      mostrarAlerta(\"Citas no disponibles Fines de Semana\", \"error\", \".formulario\");\r\n    } else if (fechaSeleccionada < fechaActual) {\r\n      e.target.value = \"\";\r\n      mostrarAlerta(\r\n        \"No puedes seleccionar una fecha anterior a hoy o el mismo dia\",\r\n        \"error\",\r\n        \".formulario\"\r\n      );\r\n    } else {\r\n      cita.fecha = e.target.value;\r\n    }\r\n  });\r\n}\r\nfunction seleccionarHora() {\r\n  const inputHora = document.querySelector(\"#hora\");\r\n  inputHora.addEventListener(\"input\", function (e) {\r\n    const horaCita = e.target.value;\r\n    const hora = horaCita.split(\":\")[0];\r\n    if (hora < 7 || hora > 17) {\r\n      e.target.value = \"\";\r\n      mostrarAlerta(\"citas no disponibles\", \"error\", \".formulario\");\r\n    } else {\r\n      cita.hora = e.target.value;\r\n    }\r\n  });\r\n}\r\nfunction mostrarAlerta(mensaje, tipo, elemento, desaparece = true) {\r\n  const alertaPrevia = document.querySelector(\".alerta\");\r\n  if (alertaPrevia) {\r\n    alertaPrevia.remove();\r\n  }\r\n  const alerta = document.createElement(\"DIV\");\r\n  alerta.textContent = mensaje;\r\n  alerta.classList.add(\"alerta\");\r\n  alerta.classList.add(\"error\");\r\n\r\n  const referencia = document.querySelector(elemento);\r\n  referencia.appendChild(alerta);\r\n\r\n  if (desaparece) {\r\n    setTimeout(() => {\r\n      alerta.remove();\r\n    }, 3000);\r\n  }\r\n}\r\n\r\nfunction mostrarResumen() {\r\n  const resumen = document.querySelector(\".contenido-resumen\");\r\n\r\n  while (resumen.firstChild) {\r\n    resumen.removeChild(resumen.firstChild);\r\n  }\r\n  //console.log(cita.servicios.length);\r\n  if (Object.values(cita).includes(\"\") || cita.servicios.length === 0) {\r\n    mostrarAlerta(\r\n      \"Debes elegir almenos un servicio, fecha y hora de la cita\",\r\n      \"error\",\r\n      \".contenido-resumen\",\r\n      false\r\n    );\r\n    return;\r\n  }\r\n\r\n  const { nombre, fecha, hora, servicios } = cita;\r\n  const nombreCliente = document.createElement(\"P\");\r\n  nombreCliente.innerHTML = `<span>Nombre: </span> ${nombre}`;\r\n\r\n  const fechaObj = new Date(fecha);\r\n  const mes = fechaObj.getMonth();\r\n  const dia = fechaObj.getDate() + 2;\r\n  const year = fechaObj.getFullYear();\r\n\r\n  const opciones = { weekday: \"long\", year: \"numeric\", month: \"long\", day: \"numeric\" };\r\n  const fechaUTC = new Date(Date.UTC(year, mes, dia));\r\n  const fechaFormateada = fechaUTC.toLocaleDateString(\"es-CO\", opciones);\r\n\r\n  const horaObj = new Date(cita.fecha + \"T\" + cita.hora);\r\n  const opcioneshora = {\r\n    hour: \"numeric\",\r\n    minute: \"numeric\",\r\n    hour12: true,\r\n  };\r\n  const horaFormateada = horaObj.toLocaleString(\"es-ES\", opcioneshora);\r\n\r\n  const fechaCita = document.createElement(\"P\");\r\n  fechaCita.innerHTML = `<span>Fecha de la cita: </span> ${fechaFormateada}`;\r\n  const horaCita = document.createElement(\"P\");\r\n  horaCita.innerHTML = `<span>Hora de la cita: </span> ${horaFormateada}`;\r\n\r\n  //heading\r\n\r\n  const headingServicios = document.createElement(\"H3\");\r\n  headingServicios.textContent = \"Tus servicios solicitados\";\r\n  resumen.appendChild(headingServicios);\r\n\r\n  servicios.forEach((servicio) => {\r\n    const { id, nombre, precio } = servicio;\r\n    const contenedorServicio = document.createElement(\"DIV\");\r\n    contenedorServicio.classList.add(\"contenedor-servicio\");\r\n\r\n    const textoServicio = document.createElement(\"P\");\r\n    textoServicio.textContent = nombre;\r\n\r\n    const precioServicio = document.createElement(\"P\");\r\n    const precioFormateado = formatearPrecio(precio);\r\n    precioServicio.innerHTML = `<span>Precio: </span> ${precioFormateado} COP`;\r\n\r\n    contenedorServicio.appendChild(textoServicio);\r\n    contenedorServicio.appendChild(precioServicio);\r\n\r\n    resumen.appendChild(contenedorServicio);\r\n  });\r\n\r\n  const headingCita = document.createElement(\"H3\");\r\n  headingCita.textContent = \"Información de tu cita\";\r\n\r\n  const botonReservar = document.createElement(\"BUTTON\");\r\n  botonReservar.classList.add(\"boton\");\r\n  botonReservar.textContent = \"Reservar Cita\";\r\n  botonReservar.onclick = reservarCita;\r\n\r\n  resumen.appendChild(headingCita);\r\n  resumen.appendChild(nombreCliente);\r\n  resumen.appendChild(fechaCita);\r\n  resumen.appendChild(horaCita);\r\n  resumen.appendChild(botonReservar);\r\n}\r\n\r\nasync function reservarCita() {\r\n  const { nombre, fecha, hora, servicios, id } = cita;\r\n\r\n  const idServicios = servicios.map((servicio) => servicio.id);\r\n  const datos = new FormData();\r\n  datos.append(\"fecha\", fecha);\r\n  datos.append(\"hora\", hora);\r\n  datos.append(\"usuarioid\", id);\r\n  datos.append(\"servicios\", idServicios);\r\n\r\n  //,peticion a la api\r\n\r\n  try {\r\n    const url = \"/api/citas\";\r\n\r\n    const respuesta = await fetch(url, {\r\n      method: \"POST\",\r\n      body: datos,\r\n    });\r\n\r\n    const resultado = await respuesta.json();\r\n    if (resultado.resultado) {\r\n      Swal.fire({\r\n        icon: \"success\",\r\n        title: \"Cita reservada\",\r\n        text: \"Tu cita fue creada correctamente\",\r\n        confirmButtonText: \"OK\",\r\n      }).then(() => {\r\n        window.location.reload();\r\n      });\r\n    }\r\n  } catch (error) {\r\n    Swal.fire({\r\n      icon: \"error\",\r\n      title: \"Oops...Algo Salio mal!\",\r\n      text: \"no se pudo guardar la cita\",\r\n      confirmButtonText: \"OK\",\r\n    });\r\n  }\r\n}\r\n"]}